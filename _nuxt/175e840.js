(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{243:function(t,o,n){"use strict";n.r(o);var e=n(55),component=Object(e.a)({},(function(){var t=this,o=t.$createElement;t._self._c;return t._m(0)}),[function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",[n("div",{staticClass:"flex justify-center"},[n("div",{staticClass:"mb-3 xl:w-96"},[n("label",{staticClass:"form-label inline-block mb-2 text-gray-700",attrs:{for:"exampleFormControlInput1"}},[t._v("Nome do ativo")]),t._v(" "),n("input",{staticClass:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",attrs:{onkeyup:"autocompletar()",type:"text",name:"ativo",id:"ativo",placeholder:"Digite o nome do ativo"}}),t._v(" "),n("ul",{staticClass:"bg-white rounded-lg border border-gray-200 w-96 text-gray-900",attrs:{id:"list"}}),t._v(" "),n("script",[t._v("\n\n\tasync function autocompletar(){\n\tconst list = document.getElementById('list');\n\t\tvar entrada=document.getElementById('ativo').value.trim().toLowerCase();\n\t\tif(entrada.length<1){\n\t\t\tlist.innerHTML='';\n\t\t}\n\t\tconst response = await fetch(\n\t\t\t\"ativos.json\"\n\t\t);\n\t\tconst ativos = await response.json();\n\n\t\tativos.forEach((ativo) => {\n\t\t      if(entrada == ativo.nome.toLowerCase() || entrada == ativo.codigo.toLowerCase()){\n\t\t        const li = document.createElement('li');\n\t\t\t\tli.className='px-6 py-2 border-b border-gray-200 w-full';\n\t\t        li.innerHTML= `<a href=\"javascript:adicionarALista('${ativo.nome}','${ativo.codigo}')\">${ativo.nome} (${ativo.codigo})</a>`;\n\t\t        list.appendChild(li);\n\t\t      }\n\t\t    });\n\n\n\t}\n\n\n\t")])])]),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"flex space-x-2 justify-center"},[n("button",{staticClass:"inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out",attrs:{onclick:"adicionarALista()",type:"button"}},[t._v("\n\tAdicionar a lista\n\t")])]),t._v(" "),n("br"),n("br"),t._v(" "),n("div",{staticClass:"flex justify-center"},[n("ul",{staticClass:"bg-white rounded-lg border border-gray-200 w-96 text-gray-900",attrs:{id:"listaDeAtivos"}})]),t._v(" "),n("script",[t._v("\n\tasync function adicionarALista(nome,codigo){\n\t\tconst list = document.getElementById('list');\n\t\tlist.innerHTML='';\n\t\tif(!codigo){\n\t\t\tvar codigo=document.getElementById(\"ativo\").value;\n\n\t\t\tconst response = await fetch(\n\t\t\t\t\"ativos.json\"\n\t\t\t);\n\t\t\tconst ativos = await response.json();\n\n\t\t\tativos.forEach((ativo) => {\n\t\t      if(codigo.toLowerCase() == ativo.nome.toLowerCase() || codigo.toLowerCase() == ativo.codigo.toLowerCase()){\n\t\t\t  \tcodigo=ativo.codigo;\n\t\t\t\tnome=ativo.nome;\n\t\t      }\n\t\t    });\n\n\t\t}\n\t\tdocument.getElementById(\"ativo\").value='';\n\t\tconst response = await fetch(\n\t\t//codigo+\".json\"\n\t\t\"https://rest.coinapi.io/v1/exchangerate/\"+codigo+\"/USD?apikey=081284B6-2E06-4BAF-97BA-18265DAE4751\"\n\t\t);\n\t\tconst json = await response.json();\n\t\tvar html=document.getElementById('listaDeAtivos').innerHTML;\n\t\tvar valor='<li class=\"px-6 py-2 border-b border-gray-200 w-full\">'+nome+' ('+codigo+') $';\n\t\tvalor=valor+'<span x-code=\"'+codigo+'\">'+json.rate+'</span></li>';\n\t\tdocument.getElementById('listaDeAtivos').innerHTML=html+valor\n\t}\n\tadicionarALista('Bitcoin','BTC');\n\n\n\n\tasync function atualizarCotacoes() {\n\t\tvar xCodes=document.querySelectorAll(\"span[x-code]\");\n\t\txCodes.forEach( async (code)=>{\n\t\t\tvar codigo=code.getAttribute(\"x-code\");\n\t\t\tconsole.log(codigo);\n\t\t\tvar url=\"https://rest.coinapi.io/v1/exchangerate/\"+codigo+\"/USD?apikey=081284B6-2E06-4BAF-97BA-18265DAE4751\";\n\t\t\tlet response = await fetch(url);\n\t\t\tlet json = await response.json();\n\t\t\tif (response.ok) {\n  \t\t\t\tcode.innerHTML=json.rate+' ðŸ”„';\n\t\t\t}\n\t\t});\n\t}\n\tvar atualizarACada=30;//segundos\n\tsetInterval(atualizarCotacoes, atualizarACada*1000);\n\t")])])}],!1,null,null,null);o.default=component.exports}}]);